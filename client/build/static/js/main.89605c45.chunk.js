(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{168:function(e,t,a){},174:function(e,t,a){},216:function(e,t,a){e.exports=a(255)},222:function(e,t,a){},229:function(e,t,a){},253:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n,r,l,o,i,c=a(0),s=a.n(c),u=a(71),m=a.n(u),d=(a(221),a(222),a(22)),p=a(27),g=a(187),h=a(189),f=a(267),b=a(338),y=a(334),E=a(185),v=a(13),x=a(3),j=a(319),w=(a(168),a(6)),O=a(188),k=a(350),C=a(345),S=a(355),D=a(129),T=a.n(D),P=a(360),I=a(332),$=a(333),N=a(348),W=a(357),L=a(352),q=a(356),_=a(128),B=a.n(_),F=a(127),U=a.n(F),G=a(347),M=a(359),Y=a(354),z=a(358),R=a(110),H=a(16),V=a(17),A=a(149),J=a.n(A),K=new(function(){function e(){Object(H.a)(this,e)}return Object(V.a)(e,[{key:"getProfile",value:function(){return J()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return J()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),X=a(33),Q=a(336),Z=Object(Q.a)(n||(n=Object(X.a)(["\n    query me {\n        me {\n            _id\n            username\n        }\n    }\n"]))),ee=Object(Q.a)(r||(r=Object(X.a)(["\n    query getPortfolio ($name: String) {\n        getPortfolio (name: $name) {\n            name\n            usdBalance\n            cryptos {\n                ticker\n                quantity\n            }\n        }\n    }\n"]))),te=Object(Q.a)(l||(l=Object(X.a)(["\n    query cryptoData {\n        cryptoData {\n            cryptoInfo\n        }\n    }\n"]))),ae=Object(Q.a)(o||(o=Object(X.a)(["\n    query cryptoCandles ($pair: String) {\n        cryptoCandles(pair: $pair) {\n            cryptoInfo\n        }\n    }\n"]))),ne=Object(Q.a)(i||(i=Object(X.a)(["\n    query cryptoDetails ($pair : String) { \n        cryptoDetails(pair: $pair) {\n            cryptoInfo\n        }\n    }\n"]))),re=Object(c.createContext)(),le=function(){return Object(c.useContext)(re)},oe=function(e){var t=e.children,a=Object(c.useState)("btc"),n=Object(v.a)(a,2),r=n[0],l=n[1];return s.a.createElement(re.Provider,{value:{currentticker:r,handletickerchange:function(e){l(e)}}},t)},ie=Object(c.createContext)(),ce=function(){return Object(c.useContext)(ie)},se=function(e){var t=e.children,a=Object(c.useState)("Loading..."),n=Object(v.a)(a,2),r=n[0],l=n[1];return s.a.createElement(ie.Provider,{value:{currentuser:r,handleuserchange:function(e){l(e)}}},t)},ue=a(342),me=a(316),de=a(318),pe=a(361),ge=a(178),he=a.n(ge),fe=a(179),be=a.n(fe),ye=a(180),Ee=a.n(ye),ve=c.createElement("div",null,c.createElement(L.a,{href:"/",className:"sideLinks"},c.createElement(ue.a,{button:!0},c.createElement(me.a,null,c.createElement(he.a,null)),c.createElement(de.a,{primary:"Dashboard"}))),c.createElement(ue.a,{button:!0},c.createElement(me.a,null,c.createElement(be.a,null)),c.createElement(de.a,{primary:"Leaderboard"})));function xe(){return c.createElement("div",null,c.createElement(pe.a,{inset:!0},"Portfolios"),c.createElement(L.a,{href:"/portfolio",className:"sideLinks"},c.createElement(ue.a,{button:!0,onClick:function(){}},c.createElement(me.a,null,c.createElement(Ee.a,null)),c.createElement(de.a,{primary:"Portfolio"}))))}a(229);var je=a(181),we=(a(230),a(65)),Oe=a.n(we);function ke(){var e=le().currentticker,t=Object(j.a)(ae,{variables:{pair:e}}),a=t.loading,n=t.data,r="".concat(e.toUpperCase()," (price over the past week)"),l=[];a?console.log("loading graph.."):l=n.cryptoCandles.cryptoInfo.last_week;var o=function(e){for(var t=[],a=Oe()(),n=0;n<e.length;n++){var r=a-216e5*n,l=Oe()(r).format("MMM-DD-YYYY, HH:00:00");t.push(l)}return t.reverse()}(l);return c.createElement("div",{className:"graph-container"},c.createElement("div",{className:"graph-card"},c.createElement(je.a,{datasetIdKey:"id",data:{labels:o,datasets:[{data:l,fill:!1,borderColor:"rgb(175, 92, 192)",tension:.1,pointStyle:!1}]},options:{radius:0,responsive:!0,aspectRatio:2,plugins:{title:{display:!0,text:r},legend:{display:!1}},scales:{x:{display:!1},y:{title:{display:!1,text:"Value in USD",font:{size:11}},display:!0,ticks:{font:{size:10}}}},interaction:{intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.57)"}}})))}var Ce=function(e){return c.createElement(R.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)};function Se(e){var t,a=e.gridType,n=le().currentticker,r=ce().currentuser,l="Loading...",o=Object(j.a)(ee,{variables:{name:r}}),i=o.loading,c=o.data;i?console.log("Loading portfolio data in InfoTabs.js..."):c?(null===c||void 0===c||null===(t=c.getPortfolio)||void 0===t?void 0:t.usdBalance)&&(l=c.getPortfolio.usdBalance,console.log(l,"Truthy 'curUSDbalance' in InfoTabs.js")):console.log(l,"Falsey 'curUSDbalance' in InfoTabs.js. Should never get here.");var u,m={dailyChange:"Loading...",weeklyChange:"Loading...",yearlyChange:"Loading...",yearly_high:"Loading...",yearly_low:"Loading..."},d=Object(j.a)(ne,{variables:{pair:n}}),p=d.loading,g=d.data;p?console.log("Loading cryptoDetails data in InfoTabs.js..."):g?(null===g||void 0===g||null===(u=g.cryptoDetails)||void 0===u?void 0:u.cryptoInfo)&&(m=g.cryptoDetails.cryptoInfo,console.log(m,"Truthy 'cryptoDetails_data' in InfoTabs.js")):console.log(m,"Falsey 'info' in InfoTabs.js. Should never get here.");var h="https://cryptowat.ch/charts/COINBASE-PRO:".concat(n,"-USD");return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ce,null,"all"===a?n.toUpperCase():"My Portfolio"),"all"===a?s.a.createElement("div",null,s.a.createElement(R.a,{component:"p"},"Daily Change: ",m.dailyChange,"%"),s.a.createElement(R.a,{component:"p"},"Weekly Change: ",m.weeklyChange,"%"),s.a.createElement(R.a,{component:"p"},"Yearly Change: ",m.yearlyChange,"%"),s.a.createElement(R.a,{component:"p"},"52-Wk High: $",m.yearly_high),s.a.createElement(R.a,{component:"p"},"52-Wk Low: $",m.yearly_low)):s.a.createElement("div",null,s.a.createElement(R.a,{component:"h4"},"Current Purchasing Power:",s.a.createElement("br",null),"$ ",l)),s.a.createElement(R.a,{color:"text.secondary",sx:{flex:1}},"on ",(new Date).toDateString(),"."),s.a.createElement("div",null,s.a.createElement(L.a,{color:"primary",href:h,target:"_blank"},"Buy Real Coin")))}var De,Te,Pe,Ie,$e,Ne=a(131),We=a(182),Le=a.n(We),qe=a(30),_e=a(341),Be=a(368),Fe=a(367),Ue=a(366),Ge=a(362),Me=a(364),Ye=a(343),ze=a(365),Re=a(363),He=a(339),Ve=a(331),Ae=a(335),Je=a(52),Ke=a.n(Je),Xe=a(80),Qe=a(346),Ze=a(369),et=a(374),tt=a(370),at=a(371),nt=a(328),rt=a(373),lt=a(337),ot=a(320),it=Object(Q.a)(De||(De=Object(X.a)(["\n    mutation login($username: String!, $password: String!) {\n        login(username: $username, password: $password) {\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n"]))),ct=Object(Q.a)(Te||(Te=Object(X.a)(["\n    mutation addUser($username: String!, $firstName: String!, $lastName: String!, $password: String!) {\n        addUser(username: $username, firstName: $firstName, lastName: $lastName, password: $password) {\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n"]))),st=(Object(Q.a)(Pe||(Pe=Object(X.a)(["\n    mutation addPortfolio($name: String, $usdBalance: Float!) {\n        addPortfolio(name: $name, usdBalance: $usdBalance) {\n            name\n            usdBalance\n        }\n    }\n"]))),Object(Q.a)(Ie||(Ie=Object(X.a)(["\n    mutation updateBalance($name: String!) {\n        updateBalance(name: $name) {\n            historicalBalance\n        }\n    }\n"]))),Object(Q.a)($e||($e=Object(X.a)(["\n    mutation buyCrypto($name: String!, $ticker: String!, $quantity: Float!, $investment: String!) {\n        buyCrypto(name: $name, ticker: $ticker, quantity: $quantity, investment: $investment) {\n            cryptos {\n                ticker\n                quantity\n            }\n        }\n    }\n"]))));var ut=function(e){var t=e.open,a=e.handleOpen,n=e.action,r=e.price,l=c.useState(n),o=Object(v.a)(l,2),i=o[0],s=o[1],u=c.useState(0),m=Object(v.a)(u,2),d=m[0],p=m[1],g=c.useState("portfolio1"),h=Object(v.a)(g,2),f=h[0],b=h[1],y=le().currentticker,E=ce().currentuser,x="Loading...",w=[{__typename:"Crypto",ticker:"BTC",quantity:9.99999},{__typename:"Crypto",ticker:"ETH",quantity:9.99999}],O=Object(j.a)(ee,{variables:{name:E}}),k=O.loading,C=O.data;k?console.log("Loading portfolio data in Transaction.js..."):C?C&&(x=C.getPortfolio.usdBalance,w=C.getPortfolio.cryptos,console.log(w,"Truthy 'curCryptos' in Transaction.js"),console.log(x,"Truthy 'curUSDbalance' in Transaction.js")):console.log(x,"Falsey 'curUSDbalance' in Transaction.js. Should never get here.");var D=Object(ot.a)(st),T=Object(v.a)(D,1)[0],P=d/r,I=function(){a(!1)},$=function(){var e=Object(Xe.a)(Ke.a.mark((function e(t){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("buy"),!(d>x)){e.next=5;break}return alert("You don't have enough money!"),e.abrupt("return");case 5:return console.log(w),e.next=8,T({variables:{name:E,ticker:y,quantity:P,investment:d}});case 8:return a=e.sent,console.log("purchase successful"),I(),window.location.reload(),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(Xe.a)(Ke.a.mark((function e(t){var a,n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("sell"),a=0,w.forEach((function(e){e.ticker===y&&(a+=e.quantity)})),!(a>=P)){e.next=14;break}return e.next=7,T({variables:{name:E,ticker:y,quantity:-1*P,investment:(-1*d).toString()}});case 7:return n=e.sent,console.log("sell successful"),I(),window.location.reload(),e.abrupt("return",n);case 14:return alert("You don't have enough ".concat(y,"!")),e.abrupt("return");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.createElement("div",null,c.createElement(Ze.a,{open:t,onClose:I},c.createElement(nt.a,null,"Trade ",y),c.createElement(tt.a,null,c.createElement(S.a,{noValidate:!0,component:"form",sx:{display:"flex",flexDirection:"column",m:"auto",width:"fit-content"}},c.createElement(at.a,null,"Portfolio"),c.createElement(lt.a,{autoFocus:!0,value:f,onChange:function(e){b(e.target.value)},label:"Portfolio",fullWidth:!0,inputProps:{name:"ptf",id:"ptf"}},c.createElement(rt.a,{value:"Portfolio 1"},"portfolio 1")),c.createElement(at.a,null,"Transaction Type"),c.createElement(lt.a,{value:i,onChange:function(e){s(e.target.value)},label:"Transaction Type",fullWidth:!0,inputProps:{name:"transactionType",id:"transactionType"}},c.createElement(rt.a,{value:"buy"},"Buy"),c.createElement(rt.a,{value:"sell"},"Sell")),c.createElement(He.a,{autoFocus:!0,margin:"dense",id:"name",label:"$",type:"number",fullWidth:!0,required:!0,defaultValue:"0.00",variant:"standard",onChange:function(e){p(e.target.value),P=d/r}}),c.createElement(at.a,null,P," ",y))),c.createElement(et.a,null,c.createElement(Qe.a,{onClick:I},"Cancel"),c.createElement(Qe.a,{onClick:function(e){"buy"===i?$(e):N(e)}},"buy"===i?"Purchase":"Sell"))))};function mt(e){var t,a=e.gridType,n="all"===a?[{id:"name",label:"Name",minWidth:170},{id:"ticker",label:"Ticker",minWidth:100},{id:"price",label:"Price\xa0(USD)",minWidth:170},{id:"buysell",label:"Buy/Sell",minWidth:100,align:"right"}]:[{id:"name",label:"Name",minWidth:170},{id:"ticker",label:"Ticker",minWidth:100},{id:"price",label:"Price per Coin\xa0(USD)",minWidth:170},{id:"quantity",label:"Quantity",minWidth:170},{id:"investment",label:"Total Value",minWidth:170},{id:"buysell",label:"Buy/Sell",minWidth:100,align:"right"}],r=s.a.useState(0),l=Object(v.a)(r,2),o=l[0],i=l[1],c=s.a.useState(100),u=Object(v.a)(c,2),m=u[0],d=u[1],p=s.a.useState(!1),g=Object(v.a)(p,2),h=g[0],f=g[1],b=s.a.useState(Number.MIN_VALUE),y=Object(v.a)(b,2),E=y[0],x=y[1],w=le(),O=w.currentticker,k=w.handletickerchange,C=ce().currentuser,S=[{__typename:"Crypto",ticker:"BTC",quantity:9.99999}],D=Object(j.a)(ee,{variables:{name:C}}),T=D.loading,P=D.data;T?console.log("Loading portfolio data in CryptoGrid.js..."):P?(null===P||void 0===P||null===(t=P.getPortfolio)||void 0===t?void 0:t.cryptos)&&(S=P.getPortfolio.cryptos,console.log(S,"Truthy 'curCryptos' in CryptoGrid.js")):console.log(S,"Falsey 'curCryptos' in CryptoGrid.js. Should never get here.");var I=Object(j.a)(te),$=I.loading,N=I.data,W=new Map;function q(e){return s.a.createElement("button",{type:"button"},"Trade")}function _(e,t,a){return{name:e,ticker:t,price:a,btn:q()}}S.forEach((function(e){W.has(e.ticker)?W.set(e.ticker,W.get(e.ticker)+e.quantity):W.set(e.ticker,e.quantity)}));var B=[_("Bitcoin","BTC",44e3),_("Ethereum","ETH",4080)];if($);else{var F=[];if("all"===a){for(var U=0;U<N.cryptoData.cryptoInfo.length;U++)F[U]=N.cryptoData.cryptoInfo[U].slice();F.forEach((function(e){e.push(q(e[1]))}))}else{for(var G=0;G<N.cryptoData.cryptoInfo.length;G++)W.has(N.cryptoData.cryptoInfo[G][1])&&(F[G]=N.cryptoData.cryptoInfo[G].slice());F.forEach((function(e){e.push(W.get(e[1]));var t=W.get(e[1])*e[2];e.push(t.toFixed(2)),e.push(q(e[1]))}))}B=F}var M=function(e){return f(e)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ce,null,"all"===a?"Browse Cryptos":"My Cryptos"),s.a.createElement(Ve.a,{spacing:2,sx:{width:300}},s.a.createElement(Ae.a,{id:"search-for-crypto",freeSolo:!0,options:B.map((function(e){return e[1]})),renderInput:function(e){return s.a.createElement(He.a,Object.assign({},e,{label:"Search For Crypto",onKeyDown:function(t){if("Enter"===t.key){var a=e.inputProps.value.toLowerCase();k(a)}}}))}})),s.a.createElement(Y.a,{sx:{width:"100%",overflow:"hidden"}},s.a.createElement(Ge.a,{sx:{maxHeight:440}},s.a.createElement(Re.a,{stickyHeader:!0,"aria-label":"Crypto Table"},s.a.createElement(Me.a,null,s.a.createElement(ze.a,null,n.map((function(e){return s.a.createElement(Ue.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),s.a.createElement(Fe.a,null,B.slice(o*m,o*m+m).map((function(e,t){return s.a.createElement(ze.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t,currentticker:O,handletickerchange:k,onClick:function(t){t.preventDefault(),k(e[1])}},n.map((function(t,n){var r=e[n];return 3===n&&"all"===a||5===n&&"my"===a?s.a.createElement(Ue.a,{key:n,align:t.align,onClick:function(t){t.preventDefault(),t.stopPropagation(),k(e[1]),x(e[2]),M(!0)}},t.format&&"number"===typeof r?t.format(r):r):s.a.createElement(Ue.a,{key:n,align:t.align},t.format&&"number"===typeof r?t.format(r):r)})))}))))),s.a.createElement(Ye.a,{rowsPerPageOptions:[10,25,100],component:"div",count:B.length,rowsPerPage:m,page:o,onPageChange:function(e,t){i(t)},onRowsPerPageChange:function(e){d(+e.target.value),i(0)}})),s.a.createElement("div",null,h?s.a.createElement(ut,{open:h,handleOpen:M,action:"buy",price:E}):s.a.createElement("div",null)),s.a.createElement(L.a,{color:"primary",target:"_blank",href:"https://coinmarketcap.com/",sx:{mt:3}},"See more Cryptos"))}var dt=["children","value","index"];function pt(e){var t=e.children,a=e.value,n=e.index,r=Object(Ne.a)(e,dt);return c.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),a===n&&c.createElement(S.a,{sx:{p:3}},c.createElement(R.a,null,t)))}function gt(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}function ht(e){var t=e.gridType,a=e.handleGridType,n=Object(qe.a)(),r=c.useState(0),l=Object(v.a)(r,2),o=l[0],i=l[1];return c.createElement(S.a,{sx:{bgcolor:"background.paper"}},c.createElement(M.a,{position:"static"},c.createElement(_e.a,{value:o,onChange:function(e,t){a(0===t?"my":"all"),i(t)},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example"},c.createElement(Be.a,Object.assign({label:"My Cryptos"},gt(0))),c.createElement(Be.a,Object.assign({label:"Browse Cryptos"},gt(1))))),c.createElement(Le.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:o,onChangeIndex:function(e){i(e)}},c.createElement(pt,{value:o,index:0,dir:n.direction},c.createElement(mt,{gridType:t})),c.createElement(pt,{value:o,index:1,dir:n.direction},c.createElement(mt,{gridType:t}))))}function ft(e){return c.createElement(R.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",c.createElement(L.a,{color:"inherit",target:"_blank",href:"https://github.com/gulpinhenry/cryptocraft"},"cryptocraft")," ",(new Date).getFullYear(),".")}var bt=Object(w.a)(M.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return Object(d.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},a&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),yt=Object(w.a)(G.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return{"& .MuiDrawer-paper":Object(d.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!a&&Object(x.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),Et=Object(O.a)();function vt(){var e=c.useState(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],r=c.useState("my"),l=Object(v.a)(r,2),o=l[0],i=l[1],s=function(){n(!a)},u=function(e){console.log(o,"changed to",e),i(e)},m=ce().handleuserchange,p="Loading...",g=Object(j.a)(Z),h=g.loading,f=g.data;return h?console.log("Loading username data in Dashboard.js..."):f?f&&(p=f.me.username,console.log(p,"Truthy 'un' in Dashboard.js")):console.log(p,"Falsey 'un' in Dashboard.js. Should never get here."),Object(c.useEffect)((function(){m(p)}),[m,p]),c.createElement(oe,null,c.createElement(k.a,{theme:Et},c.createElement(S.a,{sx:{display:"flex"}},c.createElement(I.a,null),c.createElement(bt,{position:"absolute",open:a},c.createElement(z.a,{sx:{pr:"24px"}},c.createElement(W.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:s,sx:Object(d.a)({marginRight:"36px"},a&&{display:"none"})},c.createElement(U.a,null)),c.createElement(R.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1}},"Portfolio"),c.createElement(W.a,{color:"inherit",onClick:function(e){e.preventDefault(),K.logout()}},c.createElement(C.a,{color:"secondary"},c.createElement(B.a,null))))),c.createElement(yt,{variant:"permanent",open:a},c.createElement(z.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]}},c.createElement(W.a,{onClick:s},c.createElement(T.a,null))),c.createElement($.a,null),c.createElement(q.a,null,ve),c.createElement($.a,null),c.createElement(q.a,null,xe())),c.createElement(S.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"}},c.createElement(z.a,null),c.createElement(P.a,{maxWidth:"lg",sx:{mt:4,mb:4}},c.createElement(N.a,{container:!0,spacing:3},c.createElement(N.a,{item:!0,xs:12,md:8,lg:9},c.createElement(Y.a,{className:"graph-paper",sx:{p:2,display:"flex",flexDirection:"column"}},c.createElement(ke,null))),c.createElement(N.a,{item:!0,xs:12,md:4,lg:3},c.createElement(Y.a,{className:"stats-paper",sx:{p:2,display:"flex",flexDirection:"column"}},c.createElement(Se,{gridType:o,handleGridType:u}))),c.createElement(N.a,{item:!0,xs:12},c.createElement(ht,{gridType:o,handleGridType:u}))),c.createElement(ft,{sx:{pt:4}}))))))}function xt(){return c.createElement(vt,null)}function jt(e){return c.createElement(R.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",c.createElement(L.a,{color:"inherit",target:"_blank",href:"https://github.com/gulpinhenry/cryptocraft"},"cryptocraft")," ",(new Date).getFullYear(),".")}var wt=Object(w.a)(M.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return Object(d.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},a&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),Ot=Object(w.a)(G.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,a=e.open;return{"& .MuiDrawer-paper":Object(d.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!a&&Object(x.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),kt=Object(O.a)();function Ct(){var e=c.useState(!1),t=Object(v.a)(e,2),a=t[0],n=t[1],r=c.useState("all"),l=Object(v.a)(r,2),o=l[0],i=l[1],s=function(){n(!a)},u=function(e){console.log(o,"changed to",e),i(e)},m=ce().handleuserchange,p="Loading...",g=Object(j.a)(Z),h=g.loading,f=g.data;return h?console.log("Loading username data in Dashboard.js..."):f?f&&(p=f.me.username,console.log(p,"Truthy 'un' in Dashboard.js")):console.log(p,"Falsey 'un' in Dashboard.js. Should never get here."),Object(c.useEffect)((function(){m(p)}),[m,p]),c.createElement(oe,null,c.createElement(k.a,{theme:kt},c.createElement(S.a,{sx:{display:"flex"}},c.createElement(I.a,null),c.createElement(wt,{position:"absolute",open:a},c.createElement(z.a,{sx:{pr:"24px"}},c.createElement(W.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:s,sx:Object(d.a)({marginRight:"36px"},a&&{display:"none"})},c.createElement(U.a,null)),c.createElement(R.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1}},"Dashboard"),c.createElement(W.a,{color:"inherit",onClick:function(e){e.preventDefault(),K.logout()}},c.createElement(C.a,{color:"secondary"},c.createElement(B.a,null))))),c.createElement(Ot,{variant:"permanent",open:a},c.createElement(z.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]}},c.createElement(W.a,{onClick:s},c.createElement(T.a,null))),c.createElement($.a,null),c.createElement(q.a,null,ve),c.createElement($.a,null),c.createElement(q.a,null,xe())),c.createElement(S.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"}},c.createElement(z.a,null),c.createElement(P.a,{maxWidth:"lg",sx:{mt:4,mb:4}},c.createElement(N.a,{container:!0,spacing:3},c.createElement(N.a,{item:!0,xs:12,md:8,lg:9},c.createElement(Y.a,{className:"graph-paper",sx:{p:2,display:"flex",flexDirection:"column"}},c.createElement(ke,null))),c.createElement(N.a,{item:!0,xs:12,md:4,lg:3},c.createElement(Y.a,{className:"stats-paper",sx:{p:2,display:"flex",flexDirection:"column"}},c.createElement(Se,{gridType:o,handleGridType:u}))),c.createElement(N.a,{item:!0,xs:12},c.createElement(Y.a,{id:"dashboard-table-container",sx:{p:2,display:"flex",flexDirection:"column"}},c.createElement(mt,{gridType:o,handleGridType:u})))),c.createElement(jt,{sx:{pt:4}}))))))}function St(){return c.createElement(Ct,null)}a(253);var Dt=function(){return s.a.createElement("div",{id:"error-container"},s.a.createElement("img",{id:"mc-error",src:"https://fontmeme.com/permalink/211204/5d09fcbff63c28a89211008a437fa8c7.png",alt:"minecraft-evenings-font",border:"0"}))},Tt=(a(174),a(349)),Pt=a(130),It=a.n(Pt);function $t(e){return c.createElement(R.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",c.createElement(L.a,{color:"inherit",target:"_blank",href:"https://github.com/gulpinhenry/cryptocraft"},"cryptocraft")," ",(new Date).getFullYear(),".")}var Nt=Object(O.a)();function Wt(){var e=Object(c.useState)({username:"",firstName:"",lastName:"",password:""}),t=Object(v.a)(e,2),a=t[0],n=t[1],r=Object(ot.a)(ct),l=Object(v.a)(r,2),o=l[0],i=l[1],s=i.error,u=(i.data,function(e){var t=e.target,r=t.name,l=t.value;return n(Object(d.a)(Object(d.a)({},a),{},Object(x.a)({},r,l))),!0}),m=function(){var e=Object(Xe.a)(Ke.a.mark((function e(t){var n,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o({variables:Object(d.a)({},a)});case 4:n=e.sent,r=n.data,K.login(r.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return c.createElement(k.a,{theme:Nt},c.createElement(P.a,{className:"signin-container",component:"main",maxWidth:"xs"},c.createElement(I.a,null),c.createElement(S.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}},c.createElement(Tt.a,{sx:{m:1,bgcolor:"secondary.main"}},c.createElement(It.a,null)),c.createElement(R.a,{component:"h1",variant:"h5"},"Sign up"),c.createElement(S.a,{component:"form",noValidate:!0,onSubmit:m,sx:{mt:3}},c.createElement(N.a,{container:!0,spacing:2},c.createElement(N.a,{item:!0,xs:12,sm:6},c.createElement(He.a,{name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:a.firstName,onChange:u})),c.createElement(N.a,{item:!0,xs:12,sm:6},c.createElement(He.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",value:a.lastName,onChange:u})),c.createElement(N.a,{item:!0,xs:12},c.createElement(He.a,{required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:a.username,onChange:u})),c.createElement(N.a,{item:!0,xs:12},c.createElement(He.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:a.password,onChange:u}))),c.createElement(Qe.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Sign Up"),c.createElement(N.a,{container:!0,justifyContent:"flex-end"},c.createElement(N.a,{item:!0},c.createElement(L.a,{href:"/login",variant:"body2"},"Already have an account? Log in"))),s&&c.createElement("div",{className:"my-3 p-1",style:{backgroundColor:"rgb(202, 102, 122)",borderRadius:"3px",color:"white",textAlign:"center"}},"Try another username and/or password (password must be at least 8 characters)"))),c.createElement($t,{sx:{mt:5}})))}function Lt(e){return c.createElement(R.a,Object.assign({variant:"body2",color:"text.secondary",align:"center"},e),"Copyright \xa9 ",c.createElement(L.a,{color:"inherit",target:"_blank",href:"https://github.com/gulpinhenry/cryptocraft"},"cryptocraft")," ",(new Date).getFullYear(),".")}var qt=Object(O.a)(),_t=function(e){var t=Object(c.useState)({username:"",password:""}),a=Object(v.a)(t,2),n=a[0],r=a[1],l=Object(ot.a)(it),o=Object(v.a)(l,2),i=o[0],s=o[1],u=s.error,m=(s.data,function(e){var t=e.target,a=t.name,l=t.value;return console.log(n),r(Object(d.a)(Object(d.a)({},n),{},Object(x.a)({},a,l))),!0}),p=function(){var e=Object(Xe.a)(Ke.a.mark((function e(t){var a,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:Object(d.a)({},n)});case 4:a=e.sent,l=a.data,K.login(l.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return r({username:"",password:""}),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return c.createElement(k.a,{theme:qt},c.createElement(P.a,{className:"signin-container",component:"main",maxWidth:"xs"},c.createElement(I.a,null),c.createElement(S.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"}},c.createElement(Tt.a,{sx:{m:1,bgcolor:"secondary.main"}},c.createElement(It.a,null)),c.createElement(R.a,{component:"h1",variant:"h5"},"Log in"),c.createElement(S.a,{component:"form",onSubmit:p,noValidate:!0,sx:{mt:1}},c.createElement(He.a,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0,value:n.username,onChange:m}),c.createElement(He.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:n.password,onChange:m}),c.createElement(Qe.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2}},"Log In"),c.createElement(N.a,{container:!0},c.createElement(N.a,{item:!0},c.createElement(L.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up"))),u&&c.createElement("div",{className:"my-3 p-1",style:{backgroundColor:"rgb(202, 102, 122)",borderRadius:"3px",color:"white",textAlign:"center"}},u.message))),c.createElement(Lt,{sx:{mt:8,mb:4}})))},Bt=Object(h.a)({uri:"/graphql"}),Ft=Object(E.a)((function(e,t){var a=t.headers,n=localStorage.getItem("id_token");return{headers:Object(d.a)(Object(d.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),Ut=new f.a({link:Ft.concat(Bt),cache:new b.a});var Gt=function(){var e;return null===localStorage.getItem("id_token")&&"/signup"!==window.location.pathname&&(e=s.a.createElement(p.a,{to:"/login"})),s.a.createElement(y.a,{client:Ut},s.a.createElement(se,null,s.a.createElement(g.a,null,s.a.createElement("div",null,e,s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:"/",component:St}),s.a.createElement(p.b,{exact:!0,path:"/login",component:_t}),s.a.createElement(p.b,{exact:!0,path:"/signup",component:Wt}),s.a.createElement(p.b,{exact:!0,path:"/portfolio",component:xt}),s.a.createElement(p.b,{exact:!0,path:"/me",component:St}),s.a.createElement(p.b,{component:Dt}))))))};m.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Gt,null)),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.89605c45.chunk.js.map